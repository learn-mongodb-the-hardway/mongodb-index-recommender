<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.49.2" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/mongodb-index-recommender/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/mongodb-index-recommender/images/favicon.png" type="image/x-icon" />
    <title>QuickStart :: MongoDB Tools</title>

    
    <link href="/mongodb-index-recommender/css/nucleus.css?1545057817" rel="stylesheet">
    <link href="/mongodb-index-recommender/css/fontawesome-all.min.css?1545057817" rel="stylesheet">
    <link href="/mongodb-index-recommender/css/hybrid.css?1545057817" rel="stylesheet">
    <link href="/mongodb-index-recommender/css/featherlight.min.css?1545057817" rel="stylesheet">
    <link href="/mongodb-index-recommender/css/perfect-scrollbar.min.css?1545057817" rel="stylesheet">
    <link href="/mongodb-index-recommender/css/auto-complete.css?1545057817" rel="stylesheet">
    <link href="/mongodb-index-recommender/css/theme.css?1545057817" rel="stylesheet">
    <link href="/mongodb-index-recommender/css/theme-blue.css?1545057817" rel="stylesheet">
    <link href="/mongodb-index-recommender/css/hugo-theme.css?1545057817" rel="stylesheet">
    

    <script src="/mongodb-index-recommender/js/jquery-2.x.min.js?1545057817"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/mongodb-index-recommender/tutorials/quickstart/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://learnmongodbthehardway.com">
    <div>
        <svg id="grav-logo" width="40%" height="40%" clip-rule="evenodd" fill-rule="evenodd" image-rendering="optimizeQuality" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" viewBox="0 100 100 80" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
         <defs>
          <style type="text/css">
           <![CDATA[
            .str0 {stroke:#0093DD;stroke-width:0.0762}
            .fil0 {fill:#0093DD}
           ]]>
          </style>
         </defs>
          <path class="fil0 str0" d="m45.527 164.48l-0.0376 0.0118-0.2068 0.0514 0.0023 0.0124c-5.5034 1.7146-11.098 2.4637-16.417 2.0219-0.715-2.0412-1.2984-4.1582-1.7353-6.3435-0.4323-2.163-0.7078-4.3194-0.8341-6.457 1.6749 0.4914 3.4667 0.8419 5.3709 1.0398 3.0236 0.3142 6.1505 0.2235 9.3097-0.2295 1.1659 3.5251 2.7389 6.8284 4.6554 9.8675l-0.1078 0.0275v-0.0023zm-18.015 1.9582c-5.5649-0.6839-10.165-2.6524-13.652-5.5734 3.4205 3.648 8.2523 6.1505 14.296 7.0493 2.0297 4.4342 4.7352 8.439 7.9619 11.91-2.7467-3.4961-5.0202-7.4406-6.696-11.747l0.1574 0.0173c5.1609 0.5363 10.621-0.1083 16.032-1.7172l0.0046 0.025c0.3674-0.0988 0.7328-0.2048 1.0976-0.3165 1.23 1.7746 2.5809 3.4504 4.0375 5.0173-1.2817-1.6316-2.4614-3.3611-3.5245-5.1791 3.8617-1.2529 7.5586-3.2395 10.88-5.9827 4.9091-4.0545 8.3509-9.225 10.265-14.836-2.0622 4.7203-5.2552 9.0678-9.5349 12.603-3.81 3.1465-8.0915 5.327-12.53 6.5671-1.6381-3.0848-2.9506-6.4045-3.881-9.9198 1.756-0.3117 3.5179-0.7331 5.2756-1.2556l0.0046 0.025c4.4431-1.1955 8.7099-3.3387 12.491-6.461 4.9091-4.0545 8.3509-9.2249 10.265-14.836-2.0622 4.7203-5.2552 9.0678-9.5349 12.603-4.0329 3.3307-8.5933 5.5781-13.31 6.7745v-0.0023l-0.0377 0.0117-0.2068 0.0515 0.0023 0.0123c-1.7849 0.5561-3.5785 1.0111-5.3701 1.3567-0.0836-0.3717-0.1637-0.746-0.239-1.1217-0.6968-3.4863-0.9855-6.9557-0.9019-10.357 2.0848-0.3214 4.1814-0.7991 6.272-1.4207l0.0046 0.025c4.4431-1.1956 8.7099-3.3387 12.491-6.4611 4.9091-4.0545 8.3509-9.2249 10.265-14.836-2.0622 4.7204-5.2552 9.0678-9.5349 12.603-4.0329 3.3306-8.5933 5.5783-13.31 6.7747l-3e-4 -0.0026-0.0431 0.0135-0.2014 0.0497 0.0023 0.0126c-1.9495 0.6076-3.9097 1.0947-5.8658 1.4498 0.725-11.423 5.6567-21.951 13.495-29.548 19.887 0.6917 37.59 15.49 41.802 36.556 1.1986 5.9963 1.1909 11.943 0.1519 17.576 1.7287-6.4878 2.0389-13.462 0.6322-20.494-3.8134-19.078-19.102-32.933-37.219-35.794 0.1459-0.0334 0.2913-0.0695 0.4381-0.1014l-0.0107-9e-4 -1.911-0.1089-0.0015-2e-4 -1.1492-0.0655-4.0192-0.2293-0.6977-0.0396-0.0597-0.0034-0.0098 4e-3 -0.1968 0.0014-1.2538 0.0348c-2.2971 0.0982-4.6149 0.3722-6.9396 0.837-24.393 4.8766-40.21 28.667-35.32 53.127 1.7019 8.5148 5.6915 15.987 11.197 21.909-4.3397-5.5246-7.5011-12.167-8.9853-19.59-4.889-24.46 10.257-48.116 33.822-52.827 0.3539-0.0706 0.7075-0.1364 1.0611-0.1979-10.484 6.351-17.928 16.766-20.623 28.665-3.8482-0.976-7.1243-2.6415-9.7621-4.8513 2.4672 2.6312 5.6686 4.6678 9.5294 5.9354-0.7681 3.8284-1.0447 7.8008-0.777 11.832-3.1735-1.0031-5.9164-2.5014-8.1868-4.4035 2.194 2.3402 4.9691 4.2096 8.2719 5.4864 0.145 1.6071 0.3757 3.2223 0.6994 4.8412 0.5949 2.9759 1.4701 5.8237 2.591 8.5235zm12.947-13.532c-0.3496-1.2133-0.653-2.4516-0.9049-3.7121-0.5199-2.6013-0.8046-5.1942-0.8709-7.7582-2.5694 0.2605-5.1087 0.274-7.5793 0.0172-1.3027-0.1353-2.5519-0.3421-3.748-0.6167-0.8571 3.7799-1.2455 7.718-1.1122 11.732 1.2719 0.2976 2.6042 0.5208 3.9953 0.6656 3.3209 0.345 6.7583 0.2174 10.22-0.3278zm-1.787-13.189c0.1275-10.314 3.7939-20.065 10.035-27.8-10.471 5.8354-18.042 15.929-21.053 27.682 0.6589 0.1094 1.3319 0.1999 2.0196 0.2714 2.9302 0.3045 5.9509 0.2407 8.9986-0.1528z"/>
        </svg>
    </div>
</a>

      <ul><li style="color:white">Index Recommendation Tool</li></ul>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-close"></i></span>
</div>

<script type="text/javascript" src="/mongodb-index-recommender/js/lunr.min.js?1545057817"></script>
<script type="text/javascript" src="/mongodb-index-recommender/js/auto-complete.js?1545057817"></script>
<script type="text/javascript">
    
        var baseurl = '\/mongodb-index-recommender';
    
</script>
<script type="text/javascript" src="/mongodb-index-recommender/js/search.js?1545057817"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/mongodb-index-recommender/documentation/" title="Documentation" class="dd-item 
        
        
        
        ">
      <a href="/mongodb-index-recommender/documentation/">
          Documentation
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/mongodb-index-recommender/documentation/options/" title="Commandline Options" class="dd-item ">
        <a href="/mongodb-index-recommender/documentation/options/">
        Commandline Options
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/mongodb-index-recommender/documentation/examples/" title="Commandline Examples" class="dd-item ">
        <a href="/mongodb-index-recommender/documentation/examples/">
        Commandline Examples
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/mongodb-index-recommender/documentation/faq/" title="Frequently Asked Questions" class="dd-item ">
        <a href="/mongodb-index-recommender/documentation/faq/">
        Frequently Asked Questions
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/mongodb-index-recommender/tutorials/" title="Tutorials" class="dd-item 
        parent
        
        
        ">
      <a href="/mongodb-index-recommender/tutorials/">
          Tutorials
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/mongodb-index-recommender/tutorials/quickstart/" title="QuickStart" class="dd-item active">
        <a href="/mongodb-index-recommender/tutorials/quickstart/">
        QuickStart
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/mongodb-index-recommender/'></a> > <a href='/mongodb-index-recommender/tutorials/'>Tutorials</a> > QuickStart
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#pre-requisities">Pre-Requisities</a></li>
<li><a href="#preloading-data">Preloading Data</a></li>
<li><a href="#running-the-index-recommendation-tool">Running the Index Recommendation Tool</a></li>
<li><a href="#applying-the-recommended-indexes-to-mongodb">Applying the Recommended indexes to MongoDB</a></li>
<li><a href="#validate-the-indexes-on-mongodb">Validate the Indexes on MongoDB</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>QuickStart</h1>
          

        




<p>Welcome to the QuickStart guide. In this guide we are going to cover how to use the tool to extract a list of optimized indexes
for a MongoDB collection. We are going to showcase how the tool can extract index candidates from the <code>system.
profile</code> collection, merge it with existing collection indexes and optimize the indexes.</p>

<ol>
<li>Preload some dummy data into a running MongoDB instance.

<ul>
<li>Create an existing index.</li>
</ul></li>
<li>Run the tool against MongoDB to extract Recommended list of indexes for the collection.</li>
<li>Apply the Index recommendations to the collection.</li>
<li>Validate that the indexes are present on the collections.</li>
</ol>

<h2 id="pre-requisities">Pre-Requisities</h2>

<p>This QuickStart makes the assumption that you have a <code>MongoDB instance</code> running on <code>localhost</code> on port
<code>27017</code> that you can connect to with the <code>mongo</code> shell.</p>

<p>We also assume you have <code>Java 8</code> installed on your computer and that the <code>java</code> command is available from you command line prompt.</p>

<p>Finally we assume you have downloaded the latest release of the Schema Extraction Tool. In our case that is
the <code>mongo-index-recommender-cli-schema-1.0-SNAPSHOT.jar</code> file.</p>

<h2 id="preloading-data">Preloading Data</h2>

<p>First connect to the MongoDB instance using the <code>mongo</code> shell from your commandline with the following command.</p>

<pre><code class="language-shell">mongo
</code></pre>

<p>Next lets switch to the <code>quickstart</code> database that we will use in this example.</p>

<pre><code class="language-shell">&gt; use quickstart
</code></pre>

<p>If we already have the <code>quickstart</code> database and the collections <code>users</code> and <code>sights</code> we need to drop the collections.</p>

<pre><code class="language-shell">&gt; db.users.drop();
&gt; db.sights.drop();
</code></pre>

<p>Next we are going to turn on database profiling support so we can capture all the database queries.</p>

<pre><code class="language-shell">&gt; db.setProfilingLevel(2, { slowms: 0 })
</code></pre>

<p>Next create a basic index on the <code>users</code> collection.</p>

<pre><code class="language-shell">&gt; db.users.createIndex({ name: 1 });
</code></pre>

<p>Now lets insert a dummy document for each of the collections <code>sights</code> and <code>users</code>.</p>

<pre><code class="language-bash">&gt; db.users.insertOne({_id: 1, name: 'peter', address: { street: 'smiths road 16', city: 'london', country: 'uk' }})
</code></pre>

<p>Now lets insert a dummy document for each of the collections <code>sights</code> and <code>users</code>.</p>

<pre><code class="language-bash">&gt; db.sights.insertOne({_id: 1, user_id: 1, address: { street: 'smiths road 16', city: 'london', country: 'uk' }, name: &quot;Peters house&quot; })
</code></pre>

<p>Next prime the <code>system.profile</code> collection by executing some query operations.</p>

<pre><code class="language-bash">&gt; db.users.find({name: 'peter'});
&gt; db.users.aggregate([{ $match: { name: 'peter', city: &quot;london&quot; } }, { $lookup: { from: &quot;sights&quot;, localField: &quot;_id&quot;, foreignField: &quot;user_id&quot;, as: &quot;sights&quot; }} ])
</code></pre>

<p>Finally turn of profiling.</p>

<pre><code class="language-shell">&gt; db.setProfilingLevel(0, { slowms: 100 })
</code></pre>

<p>We now have two simple collections primed with some sample data and operations to run the index recommendation tool.</p>

<h2 id="running-the-index-recommendation-tool">Running the Index Recommendation Tool</h2>

<p>In this step we are going to run the Index Recommendation Tool to generate the MongoDB index recommendations based on the
previously entered information.</p>

<p>This tool makes the assumption that you have a <code>Java 8</code> or higher installed to be able to run the
tool from the commandline. You need to be able to run the <code>java</code> command on the command line to
execute the tool.</p>

<p>Let&rsquo;s run the tool to extract the index recommendations</p>

<pre><code class="language-bash">java -jar ./mongo-index-recommender-cli-schema-1.0-SNAPSHOT.jar --extract --uri mongodb://localhost:27017 --namespace quickstart.users --namespace quickstart.sights --format txt --output-directory ./
</code></pre>

<p>This will run the index recommendation engine and output the recommended indexes to a file for each db. In our case
we will get two files written to disk. The first file contains a textual summary of the indexes recommended and ends with <code>.txt</code>.
The other file ends in <code>.js</code> and contains a <code>mongo shell</code> script that will apply the index recommendations.</p>

<pre><code>./quickstart_1544608465048.txt
./quickstart_1544608465048.js
</code></pre>

<p>The <code>quickstart_1544608465048.txt</code> contains a textual representation of the recommended indexes, their statistics
and what indexes where removed for the creation of each of the recommended indexes.</p>

<pre><code class="language-text">db: quickstart

  collection: users

    notes:

      [number of documents &lt; 10000]: The number of documents in the collection is 1,
        which is relatively low, meaning that it's possible that using indexes might not provide
        much of a performance improvement over collection scans, especially if the collection
        fits in memory

    statistics:

      document count: 1
      index count: 2
      read/write ratio: 2.0
      ops:
        finds: 2
        updates: 0
        removes: 0
        inserts: 1

    indexes:

      [Id]:
        name: _id_
        unique: true
        sparse: false
        statistics:
          count: 0
          since: Mon Dec 17 10:15:43 CET 2018

      &lt;Compound Key&gt;:
        name: name_1_city_1
        fields:
          field:
            key: name
            direction: UNKNOWN
          field:
            key: city
            direction: UNKNOWN
        unique: false
        sparse: false
        statistics:
          count: 1
        shapes:
          shape:
            filter: [{&quot;$match&quot;:{&quot;name&quot;:true,&quot;city&quot;:true}},{&quot;$lookup&quot;:{&quot;from&quot;:true,&quot;localField&quot;:true,&quot;foreignField&quot;:true,&quot;as&quot;:true}}]
            count: 1
        removed indexes:
          [Single Key]:
            name: name_1
            field:
              key: name
              direction: ASCENDING

  collection: sights

    notes:

      [number of documents &lt; 10000]: The number of documents in the collection is 1,
        which is relatively low, meaning that it's possible that using indexes might not provide
        much of a performance improvement over collection scans, especially if the collection
        fits in memory

    statistics:

      document count: 1
      index count: 1
      read/write ratio: 0.0
      ops:
        finds: 0
        updates: 0
        removes: 0
        inserts: 1

    indexes:

      [Id]:
        name: _id_
        unique: true
        sparse: false
        statistics:
          count: 0
          since: Mon Dec 17 10:15:43 CET 2018

      &lt;Single Key&gt;:
        name: user_id_1
        field:
          key: user_id
          direction: UNKNOWN
        unique: false
        sparse: false
        statistics:
          count: 0
</code></pre>

<p>Let&rsquo;s break down the output and what it means. For each collection we get a section that contains a <code>notes</code>, <code>statistics</code> and <code>indexes</code>
section.</p>

<pre><code class="language-text">notes:

  [number of documents &lt; 10000]: The number of documents in the collection is 1,
    which is relatively low, meaning that it's possible that using indexes might not provide
    much of a performance improvement over collection scans, especially if the collection
    fits in memory
</code></pre>

<p>The <code>notes</code> section contains any notes generated by the recommendation engine outlining some hints about the aggregated information.</p>

<pre><code class="language-text">statistics:

  document count: 1
  index count: 1
  read/write ratio: 0.0
  ops:
    finds: 0
    updates: 0
    removes: 0
    inserts: 1
</code></pre>

<p>The <code>statistics</code> section contains <code>collection</code> specific information. The following fields are tracked.</p>

<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td>document count</td>
<td>The number of documents in the collection.</td>
</tr>

<tr>
<td>index count</td>
<td>The number of <code>existing</code> indexes in the collection.</td>
</tr>

<tr>
<td>read/write ratio</td>
<td>The ratio of reads to writes on the collection.</td>
</tr>

<tr>
<td>ops: finds</td>
<td>The total number of finds executed against the collection as extracted from collection stats.</td>
</tr>

<tr>
<td>ops: updates</td>
<td>The total number of updates executed against the collection as extracted from collection stats.</td>
</tr>

<tr>
<td>ops: removes</td>
<td>The total number of removes executed against the collection as extracted from collection stats.</td>
</tr>

<tr>
<td>ops: inserts</td>
<td>The total number of inserts executed against the collection as extracted from collection stats.</td>
</tr>
</tbody>
</table>

<p>The <code>indexes</code> section contains all the information about the recommended indexes for the given <code>collection</code>.</p>

<pre><code class="language-text">indexes:

  [Id]:
    name: _id_
    unique: true
    sparse: false
    statistics:
      count: 0
      since: Mon Dec 17 10:15:43 CET 2018

  &lt;Compound Key&gt;:
    name: name_1_city_1
    fields:
      field:
        key: name
        direction: UNKNOWN
      field:
        key: city
        direction: UNKNOWN
    unique: false
    sparse: false
    statistics:
      count: 1
    shapes:
      shape:
        filter: [{&quot;$match&quot;:{&quot;name&quot;:true,&quot;city&quot;:true}},{&quot;$lookup&quot;:{&quot;from&quot;:true,&quot;localField&quot;:true,&quot;foreignField&quot;:true,&quot;as&quot;:true}}]
        count: 1
    removed indexes:
      [Single Key]:
        name: name_1
        field:
          key: name
          direction: ASCENDING
</code></pre>

<p>Each recommended index contains the following information parts.</p>

<ul>
<li>The index type (in this case the second index is a Compound Index).</li>
<li>The index name.</li>
<li>The fields contained in the index (this will vary by the index type recommended).</li>
<li>If the index is <code>unique</code>.</li>
<li>If the index is <code>sparsse</code>.</li>
<li>Index specific statistics (either collected from index statistics or query shapes found)

<ul>
<li>Number of counts the index was accessed</li>
<li>If the information was collected from index statistics, the date since the statistic was collected.</li>
</ul></li>
<li>Query shapes that underpin the index recommendation.</li>
<li>The <code>indexes</code> that were removed due to this index recommendation.</li>
</ul>

<p>The <code>quickstart_1544608465048.js</code> contains a MongoDB shell script that will apply the index recommendations.</p>

<pre><code class="language-js">// Select the database [quickstart]
var db = db.getSiblingDB(&quot;quickstart&quot;);

// Drop and create indexes for collection users
db.users.dropIndex(&quot;name_1&quot;);
db.users.createIndex({ &quot;name&quot; : 1, &quot;city&quot; : 1 }, { &quot;name&quot; : &quot;name_1_city_1&quot;, &quot;unique&quot; : false, &quot;sparse&quot; : false, &quot;background&quot; : true });

// Drop and create indexes for collection sights
db.sights.createIndex({ &quot;user_id&quot; : 1 }, { &quot;name&quot; : &quot;user_id_1&quot;, &quot;unique&quot; : false, &quot;sparse&quot; : false, &quot;background&quot; : true });
</code></pre>

<p>This script will drop any non-needed indexes and then create the recommended indexes. It&rsquo;s provided to simplify the
application of the index recommendations to your MongoDB instance.</p>

<h2 id="applying-the-recommended-indexes-to-mongodb">Applying the Recommended indexes to MongoDB</h2>

<p>To apply the recommended indexes to MongoDB we can execute the <code>quickstart_1544608465048.js</code> generated script against MongoDB. We
do this using the <code>mongo</code> shell taking advantage of that it allows us to execute a script.</p>

<pre><code class="language-text">&gt; mongo ./quickstart_1544608465048.js
</code></pre>

<p>Once the script has run we can verify that the indexes were correctly applied to MongoDB.</p>

<h2 id="validate-the-indexes-on-mongodb">Validate the Indexes on MongoDB</h2>

<p>Let&rsquo;s connect to the MongoDB instance running on <code>localhost</code> at port <code>27017</code>.</p>

<pre><code class="language-bash">mongo
</code></pre>

<p>Next switch to the <code>quickstart</code> database.</p>

<pre><code class="language-bash">&gt; use quickstart
</code></pre>

<p>Now lets view the indexes for the collection <code>users</code>.</p>

<pre><code class="language-bash">&gt; db.users.getIndexes()
</code></pre>

<p>This returns a the following list of indexes for the <code>users</code> collection.</p>

<pre><code class="language-json">[
        {
                &quot;v&quot; : 2,
                &quot;key&quot; : {
                        &quot;_id&quot; : 1
                },
                &quot;name&quot; : &quot;_id_&quot;,
                &quot;ns&quot; : &quot;quickstart.users&quot;
        },
        {
                &quot;v&quot; : 2,
                &quot;key&quot; : {
                        &quot;name&quot; : 1,
                        &quot;city&quot; : 1
                },
                &quot;name&quot; : &quot;name_1_city_1&quot;,
                &quot;ns&quot; : &quot;quickstart.users&quot;,
                &quot;sparse&quot; : false,
                &quot;background&quot; : true
        }
]
</code></pre>

<p>as we can see both the <code>Primary Key</code> index on <code>_id</code> and the <code>Compound Index</code> are both correctly created.</p>

<p>Next lets view the indexes for the collection <code>sights</code>.</p>

<pre><code class="language-bash">&gt; db.sights.getIndexes()
</code></pre>

<p>This returns a the following list of indexes for the <code>sights</code> collection.</p>

<pre><code class="language-json">[
        {
                &quot;v&quot; : 2,
                &quot;key&quot; : {
                        &quot;_id&quot; : 1
                },
                &quot;name&quot; : &quot;_id_&quot;,
                &quot;ns&quot; : &quot;quickstart.sights&quot;
        },
        {
                &quot;v&quot; : 2,
                &quot;key&quot; : {
                        &quot;user_id&quot; : 1
                },
                &quot;name&quot; : &quot;user_id_1&quot;,
                &quot;ns&quot; : &quot;quickstart.sights&quot;,
                &quot;sparse&quot; : false,
                &quot;background&quot; : true
        }
]
</code></pre>

<p>as we can see both the <code>Primary Key</code> index on <code>_id</code> and the <code>Single Field Index</code> are both correctly created.</p>

<p>This ends this quickstart tutorial.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/mongodb-index-recommender/tutorials/" title="Tutorials"> <i class="fas fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/mongodb-index-recommender/documentation/" title="Documentation" style="margin-right: 0px;"><i class="fas fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/mongodb-index-recommender/js/clipboard.min.js?1545057817"></script>
    <script src="/mongodb-index-recommender/js/perfect-scrollbar.min.js?1545057817"></script>
    <script src="/mongodb-index-recommender/js/perfect-scrollbar.jquery.min.js?1545057817"></script>
    <script src="/mongodb-index-recommender/js/jquery.sticky.js?1545057817"></script>
    <script src="/mongodb-index-recommender/js/featherlight.min.js?1545057817"></script>
    <script src="/mongodb-index-recommender/js/html5shiv-printshiv.min.js?1545057817"></script>
    <script src="/mongodb-index-recommender/js/highlight.pack.js?1545057817"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/mongodb-index-recommender/js/modernizr.custom.71422.js?1545057817"></script>
    <script src="/mongodb-index-recommender/js/learn.js?1545057817"></script>
    <script src="/mongodb-index-recommender/js/hugo-learn.js?1545057817"></script>

    <link href="/mongodb-index-recommender/mermaid/mermaid.css?1545057817" type="text/css" rel="stylesheet" />
    <script src="/mongodb-index-recommender/mermaid/mermaid.js?1545057817"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

